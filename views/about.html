<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>RiBazar</title>

    <!-- BOOTSTRAP LINKS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
        }
        body {
          font-family: Arial, sans-serif;
          font-size: 16px;
          line-height: 1.4;
          background-color: #f2f2f2;
        }
        main {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }
        #intro {
          margin-bottom: 40px;
        }
        #intro h3 {
          font-size: 32px;
          font-weight: bold;
          margin-bottom: 20px;
        }
        #intro p {
          font-size: 18px;
          margin-bottom: 10px;
        }
        #index {
          margin-bottom: 40px;
        }
        #index h2 {
          font-size: 24px;
          font-weight: bold;
          margin-bottom: 10px;
        }

        #index ul {
          list-style: none;
        }

        #index li {
        }
        .image-container {
          display: flex;
          justify-content: center;
        }

        .image-container img {
          max-width: 15%
        }

        #index a {
          text-decoration: none;
          color: #333;
          font-size: 18px;
        }

        #index a:hover {
          text-decoration: underline;
        }

        .section {
          margin-bottom: 40px;
        }

        .section h3 {
          font-size: 26px;
          font-weight: bold;
          margin-bottom: 20px;
        }
        .section h5 {
          font-size: 20px;
          font-weight: bold;
          margin-bottom: 20px;
        }
        pre {
          background-color: #f4f4f4;
          border: 1px solid #ddd;
          font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
          font-size: 16px;
          line-height: 1.5;
          overflow-x: auto;
          padding: 5px;
          tab-size: 4;
          white-space: pre-wrap;
        }

        code {
          font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
          font-size: 16px;
        }
        #logo {
            height: auto;
            width: 75px;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <img id="logo" src="static/logo.png" alt="RiBazar Logo">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01"
                aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="/">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        Order products by
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <li><a class="dropdown-item" href="/">Name</a></li>
                        <li><a class="dropdown-item" href="/priceLessToMore">Price - to +</a></li>
                        <li><a class="dropdown-item" href="/priceMoreToLess">Price + to -</a></li>
                        <li><a class="dropdown-item" href="/valorationLessToMore">Valoration - to +</a></li>
                        <li><a class="dropdown-item" href="/valorationMoreToLess">Valoration + to -</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/about">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="/cart">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
                             class="bi bi-cart" viewBox="0 0 16 16">
                            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                        </svg>
                    </a>
                </li>
            </ul>
<!--            <form class="d-flex">-->
<!--                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">-->
<!--                <button class="btn btn-outline-light" type="submit">Search</button>-->
<!--            </form>-->
        </div>
    </div>
</nav>

<main>
    <h1>ABOUT</h1>
    <section id="intro">
        <h3>Introduction</h3>
        <p>Welcome to my Python project using Flask, Jinja2 and MongoDB which is an online shop application! This
            application is designed to allow users to browse and view products from an online store, but unfortunately,
            it is not yet possible to make purchases.
        </p>
        <p>Using Flask, a popular web framework in Python, we have created a back-end that handles product management
            with a Tkinter interface linked to MongoDB.
            Meanwhile, Jinja2, a templating engine for Python, is used to
            create the front-end user interface.
        </p>
        <p>The online shop allows customers to browse products and when a product is selected, the customer can view
            detailed product information.
        </p>
        <p>This project is ideal for anyone looking to develop their Python and Flask skills while building a practical
            and real-world application. By using Flask and Jinja2, we have created a scalable and robust platform that
            can easily be extended.
        </p>

        <p>You can see all the source code by clicking <a href="">here</a>
        </p>

    </section>

    <ul id="index">
        <li>
            <a href="#requirements">Requirements</a>
        </li>
        <li>
            <a href="#backend">Backend</a>
            <ul>
                <li>Product.py</li>
                <li>Main.py</li>
                <li>Helpers.py</li>
                <li>Controller.py</li>
            </ul>
        </li>
        <li>
            <a href="#frontend">Frontend</a>
            <ul>
                <li>App.html</li>
                <li>ProductsList.html</li>
                <li>Products.html</li>
                <li>About.html</li>
            </ul>
        </li>
        <li>
            <a href="@execution">Execution</a>
        </li>
    </ul>

    <section class="section">
        <h3>Requirements</h3>
        <p>To run a project using Flask, you need to have Python 3 and Flask installed on your computer. Python 3 is
            a programming language used to build the back-end of web applications, while Flask is a web framework
            used to build the front-end of web applications.</p>
        <div class="image-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/1869px-Python-logo-notext.svg.png"
                 alt="Python3 logo">
            <img src="https://flask.palletsprojects.com/en/2.2.x/_images/flask-logo.png" alt="Flask logo">
            <img src="https://img2.freepng.es/20190111/thz/kisspng-mongodb-logo-database-nosql-postgresql-how-to-create-an-outstanding-tech-stack-clickup-bl-5c391bdf9cff48.4731136215472465596431.jpg"
                 alt="MongoDB">
        </div>


        <p>
            First of all, we have to install python3:
            <br>
            <code>sudo apt-get install python3</code>
            <br>
            Once you have installed Python, type the following command to verify that Python has been installed
            correctly:
            <br>
            <code>python --version</code>
            <br>
            The second part is to install Flask with the pip package manager. Running this command will download and
            install the Flask package and all its dependencies.
            <br>
            <code>pip install flask</code>
            <br>
            Also, we hae to install the MongoDB database to store the products:
            <br>
            Import the MongoDB GPG key:
            <br>
            <code>sudo wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -</code>
            <br>
            Create a MongoDB source list:
            <br>
            <code>echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0
                multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list</code>
            <br>
            Update the package list:
            <br>
            <code>sudo apt-get update</code>
            <br>
            Install the MongoDB package:
            <br>
            <code>sudo apt-get install -y mongodb-org</code>
            <br>
            Restart the MongoDB service:
            <br>
            <code>service mongod restart</code>
            <br>
            Verify that MongoDB is running:
            <br>
            <code>sudo systemctl status mongod</code>
            <br>
            We only need the package to be able to interact with MongoDb from Python
            <br>
            <code>pip install pymongo</code>
            <br>
            Then, we already have all the requirements to run this project.
        </p>

    </section>

    <section class="section">
        <h3>Backend</h3>
        <p>
            In this block we will see all the necessary files to create the backend with Python and MongoDB with Tkinter
            for the graphical interface.
        </p>
        <h5>Product.py</h5>
        <p>The web is about products, so the first thing we have to do is a class in Python where we can define the
            properties that the products will have (name, price, rating...)
        </p>
        <h5>Main.py</h5>
        <p>
            In this file we have all the functions to be able to manage the products through the graphical interface.
            Everything is defined by methods and their name is quite clear.
            <br>
            We have an initial form (Main Frame) where from there you can create, delete, modify and list all the
            products.
            <br>
            It is important to put the imports of Product and a function from helpers.py(the Pymongo import is in
            helpers.py). To connect with MongoDB I have made a separate file "helpers.py", then we will comment.
        </p>
        <pre>
            <code>
                from helpers import connect
                from Product import *
            </code>
        </pre>
        <h5>Helpers.py</h5>
        <p>
            This file is used to put auxiliary functions and make the code look clean. In this file we have two
            functions, one to connect to the database with the client and DB collection and the other for the Flask to
            use the correct template and render it together with the data. Again, put the imports.
        </p>
        <pre>
            <code>
                import pymongo
                from jinja2 import Environment, FileSystemLoader
            </code>
        </pre>
        <h5>Controller.py</h5>
        <p>
            This file contains all the routes so that when we run the Flask, we can access the pages. In each route, we
            define a method that returns "data" and "data" is already the HTML template with the corresponding view and
            data. <br>
            As with the other files, we have to import certain things to make everything work.
        </p>
        <pre>
            <code>
                from flask import Flask
                from jinja2 import Environment, FileSystemLoader

                from helpers import connect, implementsApp
            </code>
        </pre>
    </section>

    <section class="section">
        <h3>Frontend</h3>
        <p>
            In the Frontnd part, everything is in "views" folder, we have as many files as there are views on the
            page and another file that is the template and the views are mounted to later show them in the path that
            we have defined in the Backend.
        </p>
        <h5>App.html</h5>
        <p>
            In this file we define what we want each of our views to have, for example a header or a footer. We must
            also put the imports in the head if we use any css framework, in our case Bootstrap5. We put the part that
            we want to change in a block.
        </p>
        <pre>
            <code>
            {%  raw %}
                {% block content %}
                {% endblock %}
            {% endraw %}
            </code>
        </pre>
        <h5>ProductsList.html</h5>
        <p>
            This is the view where the entire list of products appears, for that we have to define the extension of the
            "app.html" file, which is the template, and the "block" that we want to replace from the template. <br>
            Apart from this, we also have to show the information of the products that we receive through the
            "Controller.py" file, we define a loop that goes through all the products.
        </p>
        <pre>
            <code>
            {%  raw %}
                {% extends "app.html" %}
                {% block content %}
                    {% for product in products %}
                        {{ product.get("name") }}
                    {% endfor %}
                {% endblock %}
            {% endraw %}
            </code>
        </pre>
        <h5>Products.html</h5>
        <p>
            In this view, the detailed information of the product that comes to us from the "Controller.py" file
            appears. We simply do as in the previous file to display the object's attributes.
        </p>

        <h5>About.html</h5>
        <p>
            This file serves as a kind of guide to know how this project has been assembled. Obviously it could be
            improved visually but as a backend, it is very successful and the code is quite understandable.
        </p>
    </section>

    <section class="section">
        <h3>Execution</h3>
        <p>
            Once all the files are ready, to execute everything we will do it with Flask. We go to the project folder
            and execute the command to mount the server. It is important to have the MongoDB service active.
        </p>
        <pre>
            <code>
                flask --app Controller.py run
            </code>
        </pre>
        <p>
            In the console, you can see the GET requests that are being made and the view that is being loaded.
        </p>
    </section>
    <p>
        Finally, I hope this has served as a guide to understand a little more about how to create a project that shows
        objects from a database on the web.
    </p>
    <h5>Greetings friends!!!</h5>
</main>
<footer class="d-flex bg-dark flex-wrap justify-content-between align-items-center py-3 border-top fixed-bottom">
    <p class="col-md-4 mb-0 text-muted">© 2023 RiBazar</p>

    <a href="/"
       class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
        <svg class="bi me-2" width="40" height="32">
            <use xlink:href="#bootstrap"></use>
        </svg>
    </a>

    <ul class="nav col-md-4 justify-content-end">
        <li class="nav-item"><a href="/" class="nav-link px-2 text-muted">Home</a></li>
        <li class="nav-item"><a href="/about" class="nav-link px-2 text-muted">About</a></li>
    </ul>
</footer>
</body>
</html>
